{
  "designerVersion" : "1.9.40",
  "id" : "managerValidation",
  "name" : "managerValidation",
  "lastUpdate" : 1560777067895,
  "rows" : [ [ {
    "type" : "container",
    "dimension" : {
      "xs" : 12,
      "sm" : 12,
      "md" : 4,
      "lg" : 3
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "hidden" : {
        "type" : "constant",
        "value" : false
      },
      "repeatedCollection" : {
        "type" : "variable",
        "value" : ""
      }
    },
    "reference" : "962c91da-427c-4b7b-b99d-83e361ce0c80",
    "hasValidationError" : false,
    "id" : "pbContainer",
    "rows" : [ [ {
      "type" : "fragment",
      "dimension" : {
        "xs" : 12,
        "sm" : 12,
        "md" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "hidden" : {
          "type" : "constant",
          "value" : false
        }
      },
      "reference" : "62374092-e0ef-475f-8128-1a5ebd137f25",
      "hasValidationError" : false,
      "id" : "ExpenseReportHeader",
      "binding" : {
        "amount" : "amount",
        "report" : "report"
      }
    } ], [ {
      "type" : "component",
      "dimension" : {
        "xs" : 12,
        "sm" : 12,
        "md" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "hidden" : {
          "type" : "constant",
          "value" : false
        },
        "availableValues" : {
          "type" : "constant",
          "value" : [ "Validate", "Invalidate", "Refuse" ]
        },
        "displayedKey" : {
          "type" : "constant"
        },
        "buttonStyle" : {
          "type" : "constant",
          "value" : "default"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "center"
        },
        "modalIds" : {
          "type" : "constant",
          "value" : [ "validate", "invalidate", "refuse" ]
        },
        "buttonStyles" : {
          "type" : "constant",
          "value" : [ "success", "warning", "danger" ]
        },
        "groupAlignement" : {
          "type" : "constant",
          "value" : "horizontal"
        },
        "verticalAlignement" : {
          "type" : "constant",
          "value" : false
        }
      },
      "reference" : "d907a114-49bb-4711-b776-8f790427822d",
      "hasValidationError" : false,
      "id" : "customModalGroupButtons"
    } ] ]
  }, {
    "type" : "fragment",
    "dimension" : {
      "xs" : 12,
      "sm" : 12,
      "md" : 8,
      "lg" : 9
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "hidden" : {
        "type" : "constant",
        "value" : false
      }
    },
    "reference" : "16b4f4b3-85bd-4817-8b2e-d862cde931f0",
    "hasValidationError" : false,
    "id" : "ExpenseReportOverview",
    "binding" : {
      "report" : "report",
      "caseDocuments" : "caseDocuments",
      "caseComments" : "caseComments",
      "caseId" : "task.caseId",
      "commentAdded" : "commentAdded"
    }
  } ], [ {
    "type" : "modalContainer",
    "dimension" : {
      "xs" : 12,
      "sm" : 12,
      "md" : 12,
      "lg" : 12
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "modalId" : {
        "type" : "constant",
        "value" : "validate"
      },
      "size" : {
        "type" : "constant",
        "value" : ""
      },
      "animation" : {
        "type" : "constant",
        "value" : true
      }
    },
    "reference" : "4c799363-9406-4334-963e-5e491e015d2b",
    "hasValidationError" : false,
    "id" : "pbModalContainer",
    "container" : {
      "type" : "container",
      "dimension" : {
        "xs" : 12
      },
      "propertyValues" : { },
      "reference" : "a1cea4d7-4bd1-47df-a3cd-9d02d8ffe475",
      "hasValidationError" : false,
      "id" : "pbContainer",
      "rows" : [ [ {
        "type" : "container",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "repeatedCollection" : {
            "type" : "variable",
            "value" : ""
          }
        },
        "reference" : "69dc577b-f20e-4e8f-8ac0-41f4c60dc21d",
        "hasValidationError" : false,
        "id" : "pbContainer",
        "rows" : [ [ {
          "type" : "component",
          "dimension" : {
            "xs" : 12,
            "sm" : 12,
            "md" : 12,
            "lg" : 12
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "text" : {
              "type" : "interpolation",
              "value" : "Validate"
            },
            "level" : {
              "type" : "constant",
              "value" : "Level 2"
            },
            "alignment" : {
              "type" : "constant",
              "value" : "center"
            }
          },
          "reference" : "a47b5882-05a8-4a56-9a29-e78428df1631",
          "hasValidationError" : false,
          "id" : "pbTitle"
        } ], [ {
          "type" : "component",
          "dimension" : {
            "xs" : 12,
            "sm" : 12,
            "md" : 12,
            "lg" : 12
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "labelHidden" : {
              "type" : "constant",
              "value" : true
            },
            "label" : {
              "type" : "interpolation",
              "value" : "Default label"
            },
            "labelPosition" : {
              "type" : "constant",
              "value" : "top"
            },
            "labelWidth" : {
              "type" : "constant",
              "value" : 4
            },
            "allowHTML" : {
              "type" : "constant",
              "value" : true
            },
            "text" : {
              "type" : "interpolation",
              "value" : "The expense report is <strong>valid</strong>"
            },
            "alignment" : {
              "type" : "constant",
              "value" : "center"
            }
          },
          "reference" : "6b547a6e-b6b8-4330-88b2-400a7f439183",
          "hasValidationError" : false,
          "id" : "pbText"
        } ], [ {
          "type" : "component",
          "dimension" : {
            "xs" : 12,
            "sm" : 12,
            "md" : 12,
            "lg" : 12
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "disabled" : {
              "type" : "constant",
              "value" : false
            },
            "label" : {
              "type" : "interpolation",
              "value" : "Send"
            },
            "alignment" : {
              "type" : "constant",
              "value" : "center"
            },
            "buttonStyle" : {
              "type" : "constant",
              "value" : "success"
            },
            "action" : {
              "type" : "constant",
              "value" : "Submit task"
            },
            "assign" : {
              "type" : "constant",
              "value" : true
            },
            "url" : {
              "type" : "interpolation"
            },
            "responseStatusCode" : {
              "type" : "variable",
              "value" : ""
            },
            "dataToSend" : {
              "type" : "expression",
              "value" : "ValidFormOutput"
            },
            "dataFromSuccess" : {
              "type" : "variable",
              "value" : ""
            },
            "closeOnSuccess" : {
              "type" : "constant",
              "value" : true
            },
            "dataFromError" : {
              "type" : "variable",
              "value" : "formOutput._submitError"
            },
            "targetUrlOnSuccess" : {
              "type" : "interpolation",
              "value" : "../management"
            },
            "collectionToModify" : {
              "type" : "variable"
            },
            "modalId" : {
              "type" : "constant",
              "value" : ""
            },
            "collectionPosition" : {
              "type" : "constant",
              "value" : "Last"
            },
            "valueToAdd" : {
              "type" : "constant"
            },
            "removeItem" : {
              "type" : "variable"
            }
          },
          "reference" : "575f7cd1-5148-4fd9-850b-58dbe297df70",
          "hasValidationError" : false,
          "id" : "pbButton"
        } ] ]
      } ] ]
    }
  } ], [ {
    "type" : "modalContainer",
    "dimension" : {
      "xs" : 12,
      "sm" : 12,
      "md" : 12,
      "lg" : 12
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "modalId" : {
        "type" : "constant",
        "value" : "invalidate"
      },
      "size" : {
        "type" : "constant",
        "value" : ""
      },
      "animation" : {
        "type" : "constant",
        "value" : true
      }
    },
    "reference" : "38b4d0a4-d4a9-426f-af23-9ecc81824a7b",
    "hasValidationError" : false,
    "id" : "pbModalContainer",
    "container" : {
      "type" : "container",
      "dimension" : {
        "xs" : 12
      },
      "propertyValues" : { },
      "reference" : "2816317c-d055-411e-bee8-6357cebc555f",
      "hasValidationError" : false,
      "id" : "pbContainer",
      "rows" : [ [ {
        "type" : "container",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "repeatedCollection" : {
            "type" : "variable",
            "value" : ""
          }
        },
        "reference" : "fcf9f4ff-d168-438f-a4f8-96dbe7950d23",
        "hasValidationError" : false,
        "id" : "pbContainer",
        "rows" : [ [ {
          "type" : "component",
          "dimension" : {
            "xs" : 12,
            "sm" : 12,
            "md" : 12,
            "lg" : 12
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "text" : {
              "type" : "interpolation",
              "value" : "Invalidate"
            },
            "level" : {
              "type" : "constant",
              "value" : "Level 2"
            },
            "alignment" : {
              "type" : "constant",
              "value" : "center"
            }
          },
          "reference" : "38c53f57-d4da-47d3-9214-36b04ceafb6e",
          "hasValidationError" : false,
          "id" : "pbTitle"
        } ], [ {
          "type" : "component",
          "dimension" : {
            "xs" : 12,
            "sm" : 12,
            "md" : 12,
            "lg" : 12
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "labelHidden" : {
              "type" : "constant",
              "value" : true
            },
            "label" : {
              "type" : "interpolation",
              "value" : "Default label"
            },
            "labelPosition" : {
              "type" : "constant",
              "value" : "top"
            },
            "labelWidth" : {
              "type" : "constant",
              "value" : 4
            },
            "allowHTML" : {
              "type" : "constant",
              "value" : true
            },
            "text" : {
              "type" : "interpolation",
              "value" : "The expense report is <strong>invalid</strong>: The employee has to make some changes to make it valid.\n<br/>\nDo not forget to indicate the expected changes in the <strong>comment</strong> section"
            },
            "alignment" : {
              "type" : "constant",
              "value" : "center"
            }
          },
          "reference" : "7f8667b4-e52c-458f-bca7-9c6effd26ba7",
          "hasValidationError" : false,
          "id" : "pbText"
        } ], [ {
          "type" : "component",
          "dimension" : {
            "xs" : 12,
            "sm" : 12,
            "md" : 12,
            "lg" : 12
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "disabled" : {
              "type" : "constant",
              "value" : false
            },
            "label" : {
              "type" : "interpolation",
              "value" : "Send"
            },
            "alignment" : {
              "type" : "constant",
              "value" : "center"
            },
            "buttonStyle" : {
              "type" : "constant",
              "value" : "warning"
            },
            "action" : {
              "type" : "constant",
              "value" : "Submit task"
            },
            "assign" : {
              "type" : "constant",
              "value" : true
            },
            "url" : {
              "type" : "interpolation"
            },
            "responseStatusCode" : {
              "type" : "variable",
              "value" : ""
            },
            "dataToSend" : {
              "type" : "expression",
              "value" : "InvalidFormOutput"
            },
            "dataFromSuccess" : {
              "type" : "variable",
              "value" : ""
            },
            "closeOnSuccess" : {
              "type" : "constant",
              "value" : true
            },
            "dataFromError" : {
              "type" : "variable",
              "value" : "formOutput._submitError"
            },
            "targetUrlOnSuccess" : {
              "type" : "interpolation",
              "value" : "../management"
            },
            "collectionToModify" : {
              "type" : "variable"
            },
            "modalId" : {
              "type" : "constant",
              "value" : ""
            },
            "collectionPosition" : {
              "type" : "constant",
              "value" : "Last"
            },
            "valueToAdd" : {
              "type" : "constant"
            },
            "removeItem" : {
              "type" : "variable"
            }
          },
          "reference" : "484bbc0b-3619-4501-9167-f7f43e5f358e",
          "hasValidationError" : false,
          "id" : "pbButton"
        } ] ]
      } ] ]
    }
  } ], [ {
    "type" : "modalContainer",
    "dimension" : {
      "xs" : 12,
      "sm" : 12,
      "md" : 12,
      "lg" : 12
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "modalId" : {
        "type" : "constant",
        "value" : "refuse"
      },
      "size" : {
        "type" : "constant",
        "value" : ""
      },
      "animation" : {
        "type" : "constant",
        "value" : true
      }
    },
    "reference" : "59c27520-0f1c-4ca3-b366-42fef3341285",
    "hasValidationError" : false,
    "id" : "pbModalContainer",
    "container" : {
      "type" : "container",
      "dimension" : {
        "xs" : 12
      },
      "propertyValues" : { },
      "reference" : "60bdae05-7b58-4aeb-8ac4-872abe2a0a0e",
      "hasValidationError" : false,
      "id" : "pbContainer",
      "rows" : [ [ {
        "type" : "container",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "repeatedCollection" : {
            "type" : "variable",
            "value" : ""
          }
        },
        "reference" : "02881151-f2cb-4724-852e-5002e1f39563",
        "hasValidationError" : false,
        "id" : "pbContainer",
        "rows" : [ [ {
          "type" : "component",
          "dimension" : {
            "xs" : 12,
            "sm" : 12,
            "md" : 12,
            "lg" : 12
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "text" : {
              "type" : "interpolation",
              "value" : "Refuse"
            },
            "level" : {
              "type" : "constant",
              "value" : "Level 2"
            },
            "alignment" : {
              "type" : "constant",
              "value" : "center"
            }
          },
          "reference" : "a6d0fd2a-85cb-4c5b-b50f-9064b3d69e40",
          "hasValidationError" : false,
          "id" : "pbTitle"
        } ], [ {
          "type" : "component",
          "dimension" : {
            "xs" : 12,
            "sm" : 12,
            "md" : 12,
            "lg" : 12
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "labelHidden" : {
              "type" : "constant",
              "value" : true
            },
            "label" : {
              "type" : "interpolation",
              "value" : "Default label"
            },
            "labelPosition" : {
              "type" : "constant",
              "value" : "top"
            },
            "labelWidth" : {
              "type" : "constant",
              "value" : 4
            },
            "allowHTML" : {
              "type" : "constant",
              "value" : true
            },
            "text" : {
              "type" : "interpolation",
              "value" : "The expense report is <strong>refused</strong>: The employee will not be refunded.\n<br/>\nYou can indicate the reason in the <strong>comment</strong> section if you want to."
            },
            "alignment" : {
              "type" : "constant",
              "value" : "center"
            }
          },
          "reference" : "3e46c249-439c-4784-8403-7c89f1cc6dd4",
          "hasValidationError" : false,
          "id" : "pbText"
        } ], [ {
          "type" : "component",
          "dimension" : {
            "xs" : 12,
            "sm" : 12,
            "md" : 12,
            "lg" : 12
          },
          "propertyValues" : {
            "cssClasses" : {
              "type" : "constant",
              "value" : ""
            },
            "hidden" : {
              "type" : "constant",
              "value" : false
            },
            "disabled" : {
              "type" : "constant",
              "value" : false
            },
            "label" : {
              "type" : "interpolation",
              "value" : "Send"
            },
            "alignment" : {
              "type" : "constant",
              "value" : "center"
            },
            "buttonStyle" : {
              "type" : "constant",
              "value" : "danger"
            },
            "action" : {
              "type" : "constant",
              "value" : "Submit task"
            },
            "assign" : {
              "type" : "constant",
              "value" : true
            },
            "url" : {
              "type" : "interpolation"
            },
            "responseStatusCode" : {
              "type" : "variable",
              "value" : ""
            },
            "dataToSend" : {
              "type" : "expression",
              "value" : "RefusedFormOutput"
            },
            "dataFromSuccess" : {
              "type" : "variable",
              "value" : ""
            },
            "closeOnSuccess" : {
              "type" : "constant",
              "value" : true
            },
            "dataFromError" : {
              "type" : "variable",
              "value" : "formOutput._submitError"
            },
            "targetUrlOnSuccess" : {
              "type" : "interpolation",
              "value" : "../management"
            },
            "collectionToModify" : {
              "type" : "variable"
            },
            "modalId" : {
              "type" : "constant",
              "value" : ""
            },
            "collectionPosition" : {
              "type" : "constant",
              "value" : "Last"
            },
            "valueToAdd" : {
              "type" : "constant"
            },
            "removeItem" : {
              "type" : "variable"
            }
          },
          "reference" : "69f2a8ba-8608-4a9c-9a93-af2bbfb21afd",
          "hasValidationError" : false,
          "id" : "pbButton"
        } ] ]
      } ] ]
    }
  } ] ],
  "assets" : [ {
    "id" : "3199d297-1a17-42f4-a6e3-1abe4235f1fb",
    "name" : "moment.js",
    "type" : "js",
    "order" : 1,
    "external" : false
  }, {
    "id" : "0a471c74-3938-43aa-8c23-cea283cbd29d",
    "name" : "filters.js",
    "type" : "js",
    "order" : 2,
    "external" : false
  }, {
    "id" : "76a2e9a5-9d98-413a-be8a-cf3cb261b460",
    "name" : "localization.json",
    "type" : "json",
    "order" : 0,
    "external" : false
  }, {
    "id" : "310f810c-cf06-45d9-9095-58f97c1597fd",
    "name" : "style.css",
    "type" : "css",
    "order" : 0,
    "external" : false
  } ],
  "inactiveAssets" : [ ],
  "data" : {
    "task" : {
      "type" : "url",
      "value" : "../API/bpm/userTask/{{taskId}}",
      "exposed" : false
    },
    "submit_errors_list" : {
      "type" : "expression",
      "value" : "if($data.formOutput && $data.formOutput._submitError && $data.formOutput._submitError.explanations){\n\tconst liElements = $data.formOutput._submitError.explanations\n\t\t.filter(cause => cause !== null)\n\t\t.map(cause => \"<li>\" + cause + \"</li>\")\n\t\t.join('');\n\tif(liElements){\n\t\treturn \"<ul>\" + liElements + \"</ul>\";\n\t}\n}",
      "exposed" : false
    },
    "context" : {
      "type" : "url",
      "value" : "../API/bpm/userTask/{{taskId}}/context",
      "exposed" : false
    },
    "taskId" : {
      "type" : "urlparameter",
      "value" : "id",
      "exposed" : false
    },
    "report" : {
      "type" : "url",
      "value" : "../{{context.expenseReport_ref.link}}",
      "exposed" : false
    },
    "caseDocuments" : {
      "type" : "url",
      "value" : "../API/extension/caseDocument?caseId={{task.caseId}}",
      "exposed" : false
    },
    "caseComments" : {
      "type" : "url",
      "value" : "../API/extension/caseComment?caseId={{task.caseId}}&reload={{commentAdded.id}}",
      "exposed" : false
    },
    "commentAdded" : {
      "type" : "json",
      "value" : "{ \"id\" : \"\" }",
      "exposed" : false
    },
    "ValidFormOutput" : {
      "type" : "json",
      "value" : "{\n  \"managerValidationData\" : \"Valid\"\n}",
      "exposed" : false
    },
    "InvalidFormOutput" : {
      "type" : "json",
      "value" : "{\n  \"managerValidationData\" : \"Invalid\"\n}",
      "exposed" : false
    },
    "RefusedFormOutput" : {
      "type" : "json",
      "value" : "{\n  \"managerValidationData\" : \"Refused\"\n}",
      "exposed" : false
    },
    "amount" : {
      "type" : "expression",
      "value" : "var amount = 0;\n$data.report.expenseLine.forEach(function(e){\n    amount += e.amount;\n});\nreturn amount;",
      "exposed" : false
    },
    "validationKeys" : {
      "type" : "json",
      "value" : "{\n    \"0\" : {\n        \"key\" : \"valid\",\n        \"display\" : \"Expense report validated\"\n    },\n    \"1\" : {\n        \"key\" : \"invalid\",\n        \"display\" : \"Expense report invalidated\"\n    },\n    \"2\" : {\n        \"key\" : \"refuse\",\n        \"display\" : \"Expense report refused\"\n    }\n}",
      "exposed" : false
    },
    "toggleValidationSelected" : {
      "type" : "constant",
      "value" : "valid",
      "exposed" : false
    },
    "displayValid" : {
      "type" : "expression",
      "value" : "return $data.toggleValidationSelected === \"valid\";",
      "exposed" : false
    },
    "displayInvalid" : {
      "type" : "expression",
      "value" : "return $data.toggleValidationSelected === \"invalid\";",
      "exposed" : false
    },
    "displayRefuse" : {
      "type" : "expression",
      "value" : "return $data.toggleValidationSelected === \"refuse\";",
      "exposed" : false
    }
  },
  "hasValidationError" : false,
  "uuid" : "2df1d186-0bcd-48f3-91f5-89e75ec04a06",
  "type" : "form",
  "description" : "Page generated with Bonita UI designer"
}