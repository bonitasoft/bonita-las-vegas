{
  "designerVersion" : "1.7.69",
  "id" : "addExpense",
  "name" : "addExpense",
  "lastUpdate" : 1539263411077,
  "rows" : [ [ {
    "type" : "container",
    "dimension" : {
      "xs" : 12
    },
    "propertyValues" : { },
    "reference" : "10c6ea20-5715-4890-a809-6b19ab2bcc41",
    "id" : "pbContainer",
    "rows" : [ [ {
      "type" : "component",
      "dimension" : {
        "md" : 12,
        "sm" : 12,
        "xs" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "readonly" : {
          "type" : "constant",
          "value" : false
        },
        "level" : {
          "type" : "constant",
          "value" : "Level 1"
        },
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "widgetId" : {
          "type" : "constant",
          "value" : "pbTitle"
        },
        "isDisplayed" : {
          "type" : "constant",
          "value" : true
        },
        "label" : {
          "type" : "interpolation"
        },
        "text" : {
          "type" : "interpolation",
          "value" : "{{ task.displayName }}"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "center"
        },
        "class" : {
          "type" : "constant",
          "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.TitleWidget"
        },
        "dimension" : {
          "type" : "constant",
          "value" : 12
        }
      },
      "reference" : "30b0cd4a-ae1c-45cf-9a40-3c79dee74c6c",
      "id" : "pbTitle"
    } ], [ {
      "type" : "component",
      "dimension" : {
        "md" : 12,
        "sm" : 12,
        "xs" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "readonly" : {
          "type" : "constant",
          "value" : false
        },
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "widgetId" : {
          "type" : "constant",
          "value" : "pbText"
        },
        "isDisplayed" : {
          "type" : "constant",
          "value" : true
        },
        "label" : {
          "type" : "interpolation"
        },
        "text" : {
          "type" : "interpolation",
          "value" : "{{ task.displayDescription }}"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "left"
        },
        "class" : {
          "type" : "constant",
          "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.TextWidget"
        },
        "dimension" : {
          "type" : "constant",
          "value" : 12
        }
      },
      "reference" : "3b237c1e-205e-49fe-88f3-97af6844705e",
      "id" : "pbText"
    } ] ]
  } ], [ {
    "type" : "container",
    "dimension" : {
      "md" : 12,
      "sm" : 12,
      "xs" : 12,
      "lg" : 12
    },
    "propertyValues" : {
      "repeatedCollection" : {
        "type" : "variable",
        "value" : ""
      },
      "labelHidden" : {
        "type" : "constant",
        "value" : false
      },
      "readonly" : {
        "type" : "constant",
        "value" : false
      },
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "widgetId" : {
        "type" : "constant"
      },
      "isDisplayed" : {
        "type" : "constant",
        "value" : true
      },
      "label" : {
        "type" : "interpolation"
      },
      "alignment" : {
        "type" : "constant",
        "value" : "left"
      },
      "class" : {
        "type" : "constant",
        "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.WidgetContainer"
      },
      "dimension" : {
        "type" : "constant",
        "value" : 12
      },
      "hidden" : {
        "type" : "constant",
        "value" : false
      }
    },
    "reference" : "3b5122cc-4540-4f75-a11b-a15fbed4d1f2",
    "id" : "pbContainer",
    "rows" : [ [ {
      "type" : "component",
      "dimension" : {
        "md" : 12,
        "sm" : 12,
        "xs" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "dateFormat" : {
          "type" : "constant",
          "value" : "MM/dd/yyyy"
        },
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "widgetId" : {
          "type" : "constant",
          "value" : "pbDatePicker"
        },
        "isDisplayed" : {
          "type" : "constant",
          "value" : true
        },
        "labelWidth" : {
          "type" : "constant",
          "value" : 1
        },
        "label" : {
          "type" : "interpolation",
          "value" : "Expense Date"
        },
        "type" : {
          "type" : "constant"
        },
        "required" : {
          "type" : "constant",
          "value" : true
        },
        "todayLabel" : {
          "type" : "constant",
          "value" : "Today"
        },
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "readonly" : {
          "type" : "constant",
          "value" : false
        },
        "showToday" : {
          "type" : "constant",
          "value" : true
        },
        "labelPosition" : {
          "type" : "constant",
          "value" : "top"
        },
        "placeholder" : {
          "type" : "constant",
          "value" : "Enter a date (mm/dd/yyyy)"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "left"
        },
        "class" : {
          "type" : "constant",
          "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.DatePickerWidget"
        },
        "dimension" : {
          "type" : "constant",
          "value" : 12
        },
        "value" : {
          "type" : "variable",
          "value" : "formInput.expenseDate"
        },
        "hidden" : {
          "type" : "constant",
          "value" : false
        },
        "readOnly" : {
          "type" : "constant",
          "value" : false
        }
      },
      "reference" : "e95a5fae-581a-4bdc-a93b-215b2b057ff6",
      "id" : "pbDatePicker"
    } ], [ {
      "type" : "component",
      "dimension" : {
        "md" : 12,
        "sm" : 12,
        "xs" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "widgetId" : {
          "type" : "constant",
          "value" : "pbInput"
        },
        "isDisplayed" : {
          "type" : "constant",
          "value" : true
        },
        "labelWidth" : {
          "type" : "constant",
          "value" : 1
        },
        "label" : {
          "type" : "interpolation",
          "value" : "Description"
        },
        "type" : {
          "type" : "constant",
          "value" : "text"
        },
        "required" : {
          "type" : "constant",
          "value" : true
        },
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "readonly" : {
          "type" : "constant",
          "value" : false
        },
        "labelPosition" : {
          "type" : "constant",
          "value" : "top"
        },
        "placeholder" : {
          "type" : "constant"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "left"
        },
        "class" : {
          "type" : "constant",
          "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.InputWidget"
        },
        "dimension" : {
          "type" : "constant",
          "value" : 12
        },
        "value" : {
          "type" : "variable",
          "value" : "formInput.description"
        },
        "hidden" : {
          "type" : "constant",
          "value" : false
        },
        "minLength" : {
          "type" : "constant",
          "value" : ""
        },
        "maxLength" : {
          "type" : "constant",
          "value" : ""
        },
        "readOnly" : {
          "type" : "constant",
          "value" : false
        },
        "min" : {
          "type" : "constant"
        },
        "max" : {
          "type" : "constant"
        },
        "step" : {
          "type" : "constant",
          "value" : 1
        }
      },
      "reference" : "5f2b9dc1-7520-4a8b-acb4-2df7befc3ef1",
      "id" : "pbInput"
    } ], [ {
      "type" : "component",
      "dimension" : {
        "md" : 12,
        "sm" : 12,
        "xs" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "readonly" : {
          "type" : "constant",
          "value" : false
        },
        "level" : {
          "type" : "constant",
          "value" : "Level 4"
        },
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "widgetId" : {
          "type" : "constant",
          "value" : "pbTitle"
        },
        "isDisplayed" : {
          "type" : "constant",
          "value" : true
        },
        "label" : {
          "type" : "interpolation"
        },
        "text" : {
          "type" : "interpolation",
          "value" : "Expense Type"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "left"
        },
        "class" : {
          "type" : "constant",
          "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.TitleWidget"
        },
        "dimension" : {
          "type" : "constant",
          "value" : 12
        }
      },
      "reference" : "87ce253c-0790-4ada-ab9d-08afa5b88183",
      "id" : "pbTitle"
    } ], [ {
      "type" : "container",
      "dimension" : {
        "md" : 12,
        "sm" : 12,
        "xs" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "repeatedCollection" : {
          "type" : "variable",
          "value" : ""
        },
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "readonly" : {
          "type" : "constant",
          "value" : false
        },
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "widgetId" : {
          "type" : "constant"
        },
        "isDisplayed" : {
          "type" : "constant",
          "value" : true
        },
        "label" : {
          "type" : "interpolation"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "left"
        },
        "class" : {
          "type" : "constant",
          "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.WidgetContainer"
        },
        "dimension" : {
          "type" : "constant",
          "value" : 12
        },
        "hidden" : {
          "type" : "constant",
          "value" : false
        }
      },
      "reference" : "7dc78aec-ca4f-4765-a0ae-ead7c58d9ba0",
      "id" : "pbContainer",
      "rows" : [ [ {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : null,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "disabled" : {
            "type" : "constant",
            "value" : false
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Type"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "placeholder" : {
            "type" : "interpolation",
            "value" : "Select a type"
          },
          "availableValues" : {
            "type" : "expression",
            "value" : "expenseTypes"
          },
          "displayedKey" : {
            "type" : "constant",
            "value" : "type"
          },
          "returnedKey" : {
            "type" : "constant",
            "value" : "persistenceId"
          },
          "value" : {
            "type" : "variable",
            "value" : "formInput.expenseType"
          }
        },
        "reference" : "7879c2f2-34d5-4b71-90c0-58efaa3d6ad5",
        "id" : "pbSelect"
      } ] ]
    } ], [ {
      "type" : "component",
      "dimension" : {
        "md" : 12,
        "sm" : 12,
        "xs" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "widgetId" : {
          "type" : "constant",
          "value" : "pbInput"
        },
        "isDisplayed" : {
          "type" : "constant",
          "value" : true
        },
        "labelWidth" : {
          "type" : "constant",
          "value" : 1
        },
        "label" : {
          "type" : "interpolation",
          "value" : "Km"
        },
        "type" : {
          "type" : "constant",
          "value" : "number"
        },
        "required" : {
          "type" : "constant",
          "value" : true
        },
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "readonly" : {
          "type" : "constant",
          "value" : false
        },
        "labelPosition" : {
          "type" : "constant",
          "value" : "top"
        },
        "placeholder" : {
          "type" : "constant"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "left"
        },
        "class" : {
          "type" : "constant",
          "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.InputWidget"
        },
        "dimension" : {
          "type" : "constant",
          "value" : 12
        },
        "value" : {
          "type" : "variable",
          "value" : "formInput.km"
        },
        "hidden" : {
          "type" : "expression",
          "value" : "!isKm"
        },
        "minLength" : {
          "type" : "constant",
          "value" : ""
        },
        "maxLength" : {
          "type" : "constant",
          "value" : ""
        },
        "readOnly" : {
          "type" : "constant",
          "value" : false
        },
        "min" : {
          "type" : "constant"
        },
        "max" : {
          "type" : "constant"
        },
        "step" : {
          "type" : "constant",
          "value" : 1
        }
      },
      "reference" : "ee0b8963-3c8d-4169-a03b-664e23e93031",
      "id" : "pbInput"
    } ], [ {
      "type" : "component",
      "dimension" : {
        "xs" : 12,
        "sm" : 12,
        "md" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "hidden" : {
          "type" : "expression",
          "value" : "!isKm"
        },
        "disabled" : {
          "type" : "constant",
          "value" : false
        },
        "required" : {
          "type" : "constant",
          "value" : false
        },
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "label" : {
          "type" : "interpolation",
          "value" : "Vehicle Type"
        },
        "labelPosition" : {
          "type" : "constant",
          "value" : "top"
        },
        "labelWidth" : {
          "type" : "constant",
          "value" : 4
        },
        "placeholder" : {
          "type" : "interpolation",
          "value" : "Select a vehicle"
        },
        "availableValues" : {
          "type" : "expression",
          "value" : "vehicles"
        },
        "displayedKey" : {
          "type" : "constant",
          "value" : "name"
        },
        "returnedKey" : {
          "type" : "constant",
          "value" : ""
        },
        "value" : {
          "type" : "variable",
          "value" : "vehicle"
        }
      },
      "reference" : "090cb30f-f126-4928-be93-e634f1d298d3",
      "id" : "pbSelect"
    } ], [ {
      "type" : "component",
      "dimension" : {
        "xs" : 12,
        "sm" : 12,
        "md" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "hidden" : {
          "type" : "expression",
          "value" : "isKm"
        },
        "disabled" : {
          "type" : "constant",
          "value" : false
        },
        "required" : {
          "type" : "constant",
          "value" : false
        },
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "label" : {
          "type" : "interpolation",
          "value" : "Currency"
        },
        "labelPosition" : {
          "type" : "constant",
          "value" : "top"
        },
        "labelWidth" : {
          "type" : "constant",
          "value" : 4
        },
        "placeholder" : {
          "type" : "interpolation",
          "value" : "Select a currency"
        },
        "availableValues" : {
          "type" : "expression",
          "value" : "currencies"
        },
        "displayedKey" : {
          "type" : "constant",
          "value" : "name"
        },
        "returnedKey" : {
          "type" : "constant",
          "value" : ""
        },
        "value" : {
          "type" : "variable",
          "value" : "currency"
        }
      },
      "reference" : "1d2d3d33-e8d0-4055-b721-e909fe5fdc3f",
      "id" : "pbSelect"
    } ], [ {
      "type" : "component",
      "dimension" : {
        "md" : 12,
        "sm" : 12,
        "xs" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "widgetId" : {
          "type" : "constant",
          "value" : "pbInput"
        },
        "isDisplayed" : {
          "type" : "constant",
          "value" : true
        },
        "labelWidth" : {
          "type" : "constant",
          "value" : 1
        },
        "label" : {
          "type" : "interpolation",
          "value" : "Amount"
        },
        "type" : {
          "type" : "constant",
          "value" : "number"
        },
        "required" : {
          "type" : "constant",
          "value" : true
        },
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "readonly" : {
          "type" : "constant",
          "value" : false
        },
        "labelPosition" : {
          "type" : "constant",
          "value" : "top"
        },
        "placeholder" : {
          "type" : "constant"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "left"
        },
        "class" : {
          "type" : "constant",
          "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.InputWidget"
        },
        "dimension" : {
          "type" : "constant",
          "value" : 12
        },
        "value" : {
          "type" : "variable",
          "value" : "formInput.amount"
        },
        "hidden" : {
          "type" : "expression",
          "value" : "isKm"
        },
        "minLength" : {
          "type" : "constant",
          "value" : ""
        },
        "maxLength" : {
          "type" : "constant",
          "value" : ""
        },
        "readOnly" : {
          "type" : "constant",
          "value" : false
        },
        "min" : {
          "type" : "constant"
        },
        "max" : {
          "type" : "constant"
        },
        "step" : {
          "type" : "constant",
          "value" : 0.01
        }
      },
      "reference" : "6eb9b639-810e-4094-928c-f3565d2746b0",
      "id" : "pbInput"
    } ], [ {
      "type" : "component",
      "dimension" : {
        "xs" : 12,
        "sm" : 12,
        "md" : 12,
        "lg" : 12
      },
      "propertyValues" : {
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "hidden" : {
          "type" : "expression",
          "value" : "!isKm"
        },
        "required" : {
          "type" : "constant",
          "value" : false
        },
        "minLength" : {
          "type" : "constant",
          "value" : ""
        },
        "maxLength" : {
          "type" : "constant",
          "value" : ""
        },
        "readOnly" : {
          "type" : "constant",
          "value" : true
        },
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "label" : {
          "type" : "interpolation",
          "value" : "Amount"
        },
        "labelPosition" : {
          "type" : "constant",
          "value" : "top"
        },
        "labelWidth" : {
          "type" : "constant",
          "value" : 4
        },
        "placeholder" : {
          "type" : "interpolation"
        },
        "value" : {
          "type" : "variable",
          "value" : "kmAmount"
        },
        "type" : {
          "type" : "constant",
          "value" : "text"
        },
        "min" : {
          "type" : "constant"
        },
        "max" : {
          "type" : "constant"
        },
        "step" : {
          "type" : "constant",
          "value" : 1
        }
      },
      "reference" : "1784d9eb-a47b-4ee4-9a87-98b49e2b4bf4",
      "id" : "pbInput"
    } ] ]
  } ], [ {
    "type" : "component",
    "dimension" : {
      "xs" : 12,
      "sm" : 12,
      "md" : 12,
      "lg" : 12
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "hidden" : {
        "type" : "constant",
        "value" : false
      },
      "disabled" : {
        "type" : "constant",
        "value" : false
      },
      "label" : {
        "type" : "interpolation",
        "value" : "Submit"
      },
      "alignment" : {
        "type" : "constant",
        "value" : "center"
      },
      "buttonStyle" : {
        "type" : "constant",
        "value" : "primary"
      },
      "action" : {
        "type" : "constant",
        "value" : "Submit task"
      },
      "url" : {
        "type" : "interpolation"
      },
      "contract" : {
        "type" : "expression",
        "value" : "formOutput.contract"
      },
      "dataFromError" : {
        "type" : "variable",
        "value" : ""
      },
      "assignedId" : {
        "type" : "expression",
        "value" : "user.user_id"
      }
    },
    "reference" : "b1da2fb9-185d-4ff3-85d3-4008af02f770",
    "id" : "customAssignAndExecuteWithContractButton"
  } ] ],
  "assets" : [ {
    "id" : "affe00a9-5637-40eb-ac68-a98f87a6f842",
    "name" : "style.css",
    "type" : "css",
    "order" : 0,
    "external" : false
  }, {
    "id" : "4255475b-bb75-49a2-af4d-d1cc89cb699b",
    "name" : "localization.json",
    "type" : "json",
    "order" : 0,
    "external" : false
  } ],
  "inactiveAssets" : [ ],
  "data" : {
    "formInput" : {
      "type" : "json",
      "value" : "{}",
      "exposed" : false
    },
    "formOutput" : {
      "type" : "expression",
      "value" : "var temp = angular.copy($data.formInput)\ntemp.currency = $data.currency?$data.currency.name:null\ntemp.currencyRatio =  $data.currency?$data.currency.rate:null\ntemp.vehicleType = $data.vehicle?$data.vehicle.name:null\ntemp.vehicleRate= $data.vehicle?$data.vehicle.rate:null\nif ($data.isKm) {\n    temp.amount = $data.kmAmount\n}\n\nreturn {\n\t \"contract\": {'expenseReportInput': {\"expenseLine\":[temp]}}\n};",
      "exposed" : false
    },
    "context" : {
      "type" : "url",
      "value" : "../API/bpm/userTask/{{taskId}}/context",
      "exposed" : false
    },
    "expenseTypes" : {
      "type" : "url",
      "value" : "../API/bdm/businessData/com.bonita.lr.model.ExpenseType?q=find&p=0&c=10",
      "exposed" : false
    },
    "isKm" : {
      "type" : "expression",
      "value" : "var type = $data.expenseTypes.find(function(e){\n    return e.persistenceId == $data.formOutput.contract.expenseReportInput.expenseLine[0].expenseType\n})\nreturn type?type.type === \"KM\":false\n",
      "exposed" : false
    },
    "currencies" : {
      "type" : "url",
      "value" : "../API/bdm/businessData/com.bonita.lr.model.ExpenseCurrency?q=find&p=0&c=10",
      "exposed" : false
    },
    "vehicles" : {
      "type" : "url",
      "value" : "../API/bdm/businessData/com.bonita.lr.model.ExpenseVehicle?q=find&p=0&c=10",
      "exposed" : false
    },
    "currency" : {
      "type" : "expression",
      "value" : "return $data.currencies[0]",
      "exposed" : false
    },
    "vehicle" : {
      "type" : "json",
      "value" : "{}",
      "exposed" : false
    },
    "kmAmount" : {
      "type" : "expression",
      "value" : "return $data.vehicle?$data.vehicle.rate * $data.formInput.km:null",
      "exposed" : false
    },
    "user" : {
      "type" : "url",
      "value" : "../API/system/session/1",
      "exposed" : false
    }
  },
  "uuid" : "d36167ac-4489-487d-af16-4e6c33cede52",
  "type" : "form"
}